google.maps.__gjsload__('drawing_impl', function(_){var Q8=function(a){if(!a.Eg){var b={};_.oj(b,a.get("options"));b.zIndex==null&&(b.zIndex=a.Sg());delete b.map;a.Eg=a.Jg.vB(b)}},R8=function(a,b,c){a.Eg&&(a.Fg&&a.Gg?(a.Eg.get("map")||a.Eg.bindTo("map",a),a.Jg.sA(a.Eg,a.Fg,b,c.Eg<a.Gg.Eg)):a.Jg.sA(a.Eg,b))},kqb=function(a,b,c){R8(a,b,c);b=a.Eg.get("map");c=a.Eg;c.unbind("map");a.Eg=null;_.Rk(a,"overlaycomplete",{type:a.Jg.eC(),overlay:c});_.Rk(a,a.Jg.bC(),c);_.Ql(b,"DMsim");_.Ol(b,147922);a.Fg=null;a.Gg=null;a.Ig=!1},lqb=function(a){if(!a.Eg){var b=
{};_.oj(b,a.get("options"));delete b.map;a.Eg=new _.sm(b)}},T8=function(a){const b=a.get("options");var c=new _.$k;c.setValues(b);var d=new _.OL(c,a.Fg);c={};_.oj(c,b);c.strokeColor=d.get("strokeColor");c.strokeOpacity=d.get("strokeOpacity");c.strokeWeight=d.get("strokeWeight");c.zIndex==null&&(c.zIndex=a.Ig());delete c.path;delete c.map;const e=new _.to(c);e.bindTo("map",a);c.strokeOpacity=d.get("ghostStrokeOpacity");d=new _.oM;d.setValues(c);d.set("anchors",[]);d.bindTo("map",a);var f=null;a.Fg&&
(f={},_.oj(f,b),f.zIndex=c.zIndex,f.paths=new _.Wm([e.getPath()]),delete f.map,f=new _.so(f));a.Eg={polyline:e,mz:f,pn:d};S8(a)},U8=function(a){const b=a.get("map"),c=a.Eg.polyline;c.unbind("map");const d=a.Eg.mz;a.Eg.pn.unbind("map");a.Eg.pn.set("map",null);a.Eg=null;a.set("draggableCursor",a.Gg);c.getPath().getLength()?(a.Fg?(c.set("map",null),d.set("map",b),_.Rk(a,"overlaycomplete",{type:"polygon",overlay:d}),_.Rk(a,"polygoncomplete",d)):(_.Rk(a,"overlaycomplete",{type:"polyline",overlay:c}),_.Rk(a,
"polylinecomplete",c)),_.Ql(b,"DMpol"),_.Ol(b,147921),S8(a)):c.set("map",null)},V8=function(a,b){a.Eg.polyline.getPath().push(b);a.Eg.pn.set("anchors",[b])},mqb=function(a,b){var c=a.Eg.polyline.getPath(),d=c.getLength();if(d){var e=a.get("map");const g=e.get("projection");e=e.__gm.get("zoom");e=a.Jg/(1<<e);const h=g.fromLatLngToPoint(b,a.Tg);if(h===null)return null;b=b.lng();d=c.getAt(d-1);var f=new _.Zj(d.lat(),_.qj(d.lng(),b-180,b+180),!0);f=g.fromLatLngToPoint(f,a.Qg);if(f===null)return null;
if(Math.abs(h.x-f.x)<=e&&Math.abs(h.y-f.y)<=e)return{type:1,latLng:d};c=c.getAt(0);b=new _.Zj(c.lat(),_.qj(c.lng(),b-180,b+180),!0);a=g.fromLatLngToPoint(b,a.Sg);if(a===null)return null;if(Math.abs(h.x-a.x)<=e&&Math.abs(h.y-a.y)<=e)return{type:2,latLng:c}}return null},nqb=function(a,b){const c=mqb(a,b);c?(a.Fg||c.type!=2||V8(a,c.latLng),U8(a)):V8(a,b)},S8=function(a){a.set("enablePanning",!!a.Eg&&a.get("drawPolysWithDrag")&&!a.get("panWhileDrawing"))},oqb=function(){let a=0;return function(){return a++}},
rqb=function(a){const b=new _.ML(pqb);let c=!1;_.Lb(pqb,d=>{_.Dk(b,d,(e,f)=>{const g=e instanceof _.Kv,h=g?e.Eg:e;if(d==="click"||d==="dblclick"||d==="mousemove")g?(d==="click"&&_.Tt(e.Eg),d==="dblclick"&&_.Tt(e.Eg),d==="mousemove"&&_.Dv(e)):_.Bk(e);if(d!=="mousewheel"&&(!c||d!=="mousemove")){if(d==="mousemove"||d==="move")a.Lg=d,a.Pg=h,a.Og=f;if(c||!a.get("panWhileDrawing"))d==="movestart"&&(c=!0),d==="moveend"&&(c=!1),e=Date.now(),d==="panbynow"?a.Lg&&qqb(a,a.Lg,a.Pg,e,a.Og):qqb(a,d,h,e,f)}})});
return b},sqb=function(a){const b=new _.UK(["map","drawingMode","pegmanDragging"],"active",(c,d,e)=>!!c&&!!d&&!e);b.bindTo("map",a);b.bindTo("drawingMode",a);a.Fg.bindTo("active",b);return b},tqb=function(a){const b=new _.UK(["draggableCursor","panWhileDrawing"],"cursor",(c,d)=>d?null:c);b.bindTo("panWhileDrawing",a);a.Fg.bindTo("draggableCursor",b,"cursor");return b},qqb=function(a,b,c,d,e){var f=a.get("map");if(a.Eg){var g=f.__gm.get("projectionController"),h=f.__gm.get("panes");if(g&&h&&(g=e||
c,a.kh&&g)){e=a.kh.el(g);f=_.Um(e,f.getProjection());g=new _.cm(g.clientX,g.clientY);(h=(h=a.get("snappingCallback"))&&h(a.Eg.Pg(f,e)))&&(f=h);h=!1;if(b==="click"){if(d-a.Ng<=300&&a.Ig&&_.rj(a.Ig.x,g.x,a.Jg)&&_.rj(a.Ig.y,g.y,a.Jg))return;a.Ig=g;a.Ng=d;h=a.Eg.Kg(f,e)}else b==="dblclick"?h=a.Eg.Rg():b==="mousemove"?h=a.Eg.Lg(f,e):b==="movestart"?h=a.Eg.Og(f,e):b==="move"?h=a.Eg.Mg(f,e):b==="moveend"&&(h=a.Eg.Ng(f,e));h&&c&&_.Bk(c)}}},uqb=function(a){switch(a){case null:return null;case "Point":return"marker";
case "LineString":return"polyline";case "Polygon":return"polygon";default:return null}},zqb=class extends _.$k{constructor(a,b){function c(f,g,h,k){const m=_.pu("div",a);_.iIa(m);m.style.lineHeight="0";g={title:g,Cw:h,Cz:k,padding:[4],Gy:!0,qC:!0};h=_.pu("span");h.style.display="inline-block";const p=f||"hand",t=vqb[p],v=_.RK(d,h,new _.cm(0,t),wqb);v.style.position="relative";const w=_.$M(m,h,f,g);_.Dk(w,"active_changed",()=>{const y=w.get("active")?xqb[p]:t;_.SK(v,wqb,new _.cm(0,y))});w.bindTo("value",
e,"drawingMode")}super();const d=_.Lo("drawing");a.setAttribute("role","menubar");const e=this;c(null,"Stop drawing",!0,!b.length);_.Lb(b,(f,g)=>{const h=yqb[f||""];h&&c(f,h,!1,g===b.length-1)})}},wqb=new _.em(16,16),xqb={hand:144,marker:112,polygon:96,polyline:128,rectangle:48,circle:0},vqb={hand:80,marker:176,polygon:64,polyline:32,rectangle:16,circle:160},yqb={marker:"Add a marker",polygon:"Draw a shape",polyline:"Draw a line",rectangle:"Draw a rectangle",circle:"Draw a circle"};var W8=class extends _.$k{Kg(){return!1}Rg(){return!1}Lg(){return!1}Og(){return!1}Mg(){return!1}Ng(){return!1}};var Aqb=class extends W8{constructor(a,b,c){super();this.Jg=a;this.Qg=b;this.Sg=c}Pg(a,b){Q8(this);R8(this,a,b);return{latLng:a,overlay:this.Eg}}active_changed(){if(this.get("active"))this.set("draggableCursor",this.Qg),this.set("draggingCursor","");else{const a=this.Eg;a&&(a.unbind("map"),a.set("map",null),this.Eg=null);this.Gg=this.Fg=null;this.Ig=!1}}Kg(a,b){this.Fg?kqb(this,a,b):(Q8(this),this.Fg=a,this.Gg=b,R8(this,a,b),this.Ig=!0);return!1}Lg(a,b){R8(this,a,b);return!1}Og(a,b){if(this.Ig)return!1;
this.set("draggingCursor",this.Qg);this.set("enablePanning",!0);Q8(this);this.Fg=a;this.Gg=b;R8(this,a,b);return!0}Mg(a,b){if(this.Ig)return!1;R8(this,a,b);return!0}Ng(a,b){if(this.Ig)return!1;this.set("draggingCursor","");this.set("enablePanning",!1);kqb(this,a,b);return!0}};var Bqb=class{vB(a){return new _.dn(a)}sA(a,b,c){a.set("center",b);var d=0;const e=a.get("map");e&&c&&(d=e.__gm.get("baseMapType"),d=_.EE(b,c,d&&d.radius));a.set("radius",d)}eC(){return"circle"}bC(){return"circlecomplete"}};var Cqb=class extends W8{constructor(a){super();this.cursor=a;this.Eg=null}Pg(a){lqb(this);this.Eg.setPosition(a);return{latLng:a,overlay:this.Eg}}active_changed(){this.get("active")&&this.set("draggableCursor",this.cursor)}Kg(a){const b=this.get("map");lqb(this);this.Eg.setPosition(a);this.Eg.setMap(b);_.Rk(this,"overlaycomplete",{type:"marker",overlay:this.Eg});_.Rk(this,"markercomplete",this.Eg);_.Ql(b,"DMmar");_.Ol(b,147920);this.Eg=null;return!1}};var Dqb=class extends W8{constructor(a,b,c,d){super();this.Fg=a;this.Gg=b;this.Ig=c;this.Jg=d+1E-6;this.Eg=null;this.Tg=new _.cm(0,0);this.Qg=new _.cm(0,0);this.Sg=new _.cm(0,0)}Pg(a){this.Eg&&this.Eg.polyline||T8(this);return{latLng:a,overlay:this.Eg.mz||this.Eg.polyline}}active_changed(){this.get("active")?this.set("draggableCursor",this.Gg):this.Eg&&this.Eg.polyline&&(this.get("drawingMode")===null?U8(this):(this.Eg.polyline.unbind("map"),this.Eg.polyline.set("map",null),this.Eg.pn.unbind("map"),
this.Eg.pn.set("map",null),this.Fg&&this.Eg.mz.set("map",null),this.Eg=null))}Kg(a){if(!a)return!1;this.Eg?nqb(this,a):(T8(this),V8(this,a));return!1}Rg(){this.Eg&&this.Eg.polyline.getPath().getLength()>1&&U8(this);return!1}Lg(a){let b=a;this.Eg&&a&&(a=mqb(this,a),this.set("draggableCursor",a?"pointer":this.Gg),a&&(b=a.latLng),this.Eg.pn.set("freeVertexPosition",b));return!1}Og(a){return a?this.get("drawPolysWithDrag")?(this.Eg||T8(this),this.Eg.polyline.getPath().getLength()||V8(this,a),this.set("draggingCursor",
this.Gg),!0):!1:!1}Mg(a){return this.Eg&&this.get("drawPolysWithDrag")?(this.Eg.pn.set("freeVertexPosition",a),!0):!1}Ng(a){return a?this.get("drawPolysWithDrag")?(this.Eg&&(nqb(this,a),this.set("draggingCursor","")),this.Eg&&this.Eg.pn.set("freeVertexPosition",null),!0):!1:!1}drawPolysWithDrag_changed(){S8(this)}panWhileDrawing_changed(){S8(this)}};var Eqb=class{vB(a){return new _.uo(a)}sA(a,b,c,d=!1){c=c||b;let e=c.lat(),f=b.lat();b.lat()<c.lat()&&(e=b.lat(),f=c.lat());let g=b.lng(),h=c.lng();d&&(g=c.lng(),h=b.lng());b=_.Al(e,g,f,h);a.set("bounds",b)}eC(){return"rectangle"}bC(){return"rectanglecomplete"}};var pqb="click dblclick movestart move moveend panbynow mousewheel mousemove".split(" "),Fqb=class extends _.$k{constructor(){super();this.Eg=null;this.Qg=[];this.Ig=this.Kg=null;this.Ng=0;this.Pg=this.Lg=null;this.kh=this.Og=void 0;this.Fg=rqb(this);this.Mg=sqb(this);const a=this.getCursor(),b=oqb();this.Jg=6+(_.uu()?9:0);this.Gg={circle:new Aqb(new Bqb,a,b),marker:new Cqb(a),polygon:new Dqb(!0,a,b,this.Jg),polyline:new Dqb(!1,a,b,this.Jg),rectangle:new Aqb(new Eqb,a,b)};const c=tqb(this);Object.keys(this.Gg).forEach(d=>
{const e=this.Gg[d];e.bindTo("map",this);e.bindTo("drawingMode",this);e.bindTo("panWhileDrawing",this);e.bindTo("draggingCursor",this.Fg);e.bindTo("draggableCursor",c);e.bindTo("enablePanning",this.Fg,"panAtEdge");e.bindTo("options",this,`${d}Options`);_.Qk(e,"overlaycomplete",this);_.Qk(e,`${d}complete`,this)});this.Gg.polygon.bindTo("drawPolysWithDrag",this);this.Gg.polyline.bindTo("drawPolysWithDrag",this)}map_changed(){const a=this.get("map"),b=this.Fg;if(a){const c=a.__gm;c.Fg.then(({kh:d})=>
{this.kh=d});this.bindTo("mouseEventTarget",c);this.Mg.bindTo("pegmanDragging",c);b.bindTo("draggable",a);b.bindTo("scrollwheel",a);this.Kg=_.Qk(b,"panbynow",c)}else this.unbind("mouseEventTarget"),this.set("mouseEventTarget",null),this.Mg.unbind("pegmanDragging"),b.unbind("draggable"),b.unbind("scrollwheel"),this.Kg&&(_.Fk(this.Kg),this.Kg=null)}mouseEventTarget_changed(){const a=["panes","pixelBounds"];var b=this.Fg;_.Lb(a,b.unbind,b);b=this.Qg;_.Lb(b,_.Fk);b.length=0;if(this.get("mouseEventTarget")){b=
this.Fg;const c=this.get("map");_.LF(b,a,c.__gm)}}drawingMode_changed(){this.Eg&&this.Eg.set("active",!1);this.Fg.set("panAtEdge",!1);const a=this.get("drawingMode");(this.Eg=this.Gg[a])&&this.Eg.set("active",!0)}getCursor(){let a="url("+_.QA+"crosshair.cur)";_.Nn.Eg&&(a+=" 7 7");return`${a}, crosshair`}};var Hqb=class extends _.$k{constructor(a){super();this.Ch=new _.tn(()=>{this.Eg&&(this.Gg.rl(this.Eg),_.fo(this.Eg),this.Eg=null,this.Fg.unbindAll(),this.Fg=null);if((this.Gg=this.get("layoutManager"))&&this.get("drawingControl")!=0){const c=this.get("drawingControlOptions")||{},d=c.drawingModes||Gqb,e=document.createElement("div");_.sM(e);e.style.margin=_.St(5);_.qu(e,10);this.Eg=e;this.Fg=new zqb(this.Eg,d);this.Fg.bindTo("drawingMode",this);this.Gg.addElement(this.Eg,c.position||14,!1,.25)}},0);
const b=new Fqb;b.bindTo("map",a);b.bindTo("drawingMode",a);b.bindTo("panWhileDrawing",a);b.bindTo("markerOptions",a);b.bindTo("polygonOptions",a);b.bindTo("polylineOptions",a);b.bindTo("rectangleOptions",a);b.bindTo("circleOptions",a);b.bindTo("drawPolysWithDrag",a);_.Qk(b,"overlaycomplete",a);_.Qk(b,"circlecomplete",a);_.Qk(b,"markercomplete",a);_.Qk(b,"polygoncomplete",a);_.Qk(b,"polylinecomplete",a);_.Qk(b,"rectanglecomplete",a);this.bindTo("map",a);this.bindTo("drawingControl",a);this.bindTo("drawingControlOptions",
a);this.bindTo("drawingMode",a);this.set("snappingCallback",a.get("snappingCallback"));a.bindTo("snappingCallback",this);b.bindTo("snappingCallback",this);_.Ql(a.get("map"),"DMnew");_.Ol(a.get("map"),147919)}map_changed(){var a=this.get("map");a?(a=a.__gm,this.bindTo("layoutManager",a),a.set("snappingCallback",this.get("snappingCallback")),this.bindTo("snappingCallback",a)):(this.unbind("layoutManager"),this.set("layoutManager",null),this.unbind("snappingCallback"))}layoutManager_changed(){_.zn(this.Ch)}drawingControl_changed(){_.zn(this.Ch)}drawingControlOptions_changed(){_.zn(this.Ch)}},
Gqb=["marker","polyline","rectangle","circle","polygon"];_.vk("drawing_impl",{hE:Hqb,zH:function(a){const b=new _.$k,c=new _.UK(["dataDrawingMode"],"drawingManagerMode",uqb);c.bindTo("dataDrawingMode",a,"drawingMode");const d=new _.UK(["styleOrStylingFunction"],"style",function(g){return typeof g==="function"?g(new _.Yk):g});d.bindTo("styleOrStylingFunction",a,"style");const e=new _.UK(["controls","controlPosition"],"drawingControlOptions",function(g,h){return{drawingModes:_.sj(g,uqb),position:h}});e.bindTo("controls",a);e.bindTo("controlPosition",a);const f=
new _.UK(["controls"],"drawingControl",g=>!!g);f.bindTo("controls",a);b.bindTo("map",a);b.bindTo("drawingMode",c,"drawingManagerMode");b.bindTo("markerOptions",d,"style");b.bindTo("polylineOptions",d,"style");b.bindTo("polygonOptions",d,"style");b.bindTo("drawingControlOptions",e);b.bindTo("drawingControl",f);_.Dk(b,"overlaycomplete",function(g){g=g.overlay;var h=_.kGa([g]);const k=a.get("featureFactory");h=k?k(h):new _.Yk({geometry:h});a.add(h);g.set("map",null)});new Hqb(b);_.Ok(a,"map_changed",
function(){const g=a.get("map");g&&(_.Ql(g,"Le"),_.Ol(g,148236))})}});});
